@if (!Week) {
<app-card>
    <app-card-header>
        <app-card-title>
            There was an error while loading the weeks
        </app-card-title>
    </app-card-header>
</app-card>
}
@else {


<app-card class="max-w-full">
    <app-card-header>
        <app-card-title>
            Messages From {{Week.startDate.toLocaleDateString()}} to {{Week.endDate.toLocaleDateString()}}
        </app-card-title>
    </app-card-header>

    <app-card-content>
        @if (MessagesHidden) {
            @if (Loading) {
                <button class="bg-secondaryBackground text-textPrimary rounded-lg px-4 py-2.5 flex flex-row justify-center" disabled >
                    <span class='sr-only'>Loading...</span>
                    <div class='h-6 w-6 bg-accent rounded-full animate-bounce [animation-delay:-0.3s]'></div>
                    <div class='h-6 w-6 bg-accent rounded-full animate-bounce [animation-delay:-0.15s]'></div>
                    <div class='h-6 w-6 bg-accent rounded-full animate-bounce'></div>
                </button>
            }
            @else {
                <button class="bg-primary text-textPrimary rounded-lg px-4 py-2.5" (click)="LoadMessages()" >
                    Load Messages
                </button>
            }

        }
        @else {
        <ul class="space-y-4 mb-4">

            @for (message of Messages; track $index) {
            <app-message [message]="message"></app-message>

            }
        </ul>


        <button class="bg-secondaryBackground text-textPrimary rounded-lg px-4 py-2.5" (click)="HideMessages()">
            Hide Messages
        </button>

        }

    </app-card-content>

</app-card>
}